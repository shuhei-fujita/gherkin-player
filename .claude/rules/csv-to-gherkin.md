# CSV → Gherkin (.md) 変換ルール

## ID運用ルール

- テストID（`@TC-X-Y`）はシナリオの一意識別子として付与する
- **IDは必ずシナリオ名とセットで表記する**（ID単独での使用禁止）
- IDはgrepで横串検索するためのポインタ。意味はシナリオ名が担う

## ファイル構造

```
{画面名}
{URLパス}

Feature: {画面名}

  {画面の説明文}

  # ============================================================
  # {機能：大}
  # ============================================================

  @TC-X-1 @P0
  Scenario: {機能：小}
    Given {前提条件}
    When {操作}
    Then {期待結果}
    And {追加の期待結果}
```

## CSV構造マッピング

| CSV列 | Gherkin要素 |
|---|---|
| 機能：大 | `# ==== {機能大} ====` のコメントブロック |
| 機能：小 (1つ目) | `Scenario:` のタイトル |
| 操作手順の「・の状態で・」前半 | `Given` (前提条件) |
| 操作手順の「・の状態で・」後半 | `When` (操作) |
| 期待値 (`--` 除去) | `Then` (期待結果) |
| 期待値に「・」がある場合 | `Then` + `And` に分割 |
| 備考のTC番号 | タグ `@TC-X-X`（Scenarioの直前行に配置） |
| 備考の優先度 (P0/P1/P2) | タグ `@P0` `@P1` `@P2` |

## インデント規則

- `Feature:` — インデントなし
- 説明文 — 2スペース
- `# ====` コメントブロック — 2スペース
- `@TC-X-X @P0` タグ — 2スペース（直後のScenario行とセットで1ブロック）
- `Scenario:` — 2スペース
- `Given` / `When` / `Then` / `And` — 4スペース

## 出力先

`test-suites/{画面名}.md`
